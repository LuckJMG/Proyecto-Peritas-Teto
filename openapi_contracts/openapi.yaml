openapi: 3.0.3
info:
  title: Casitas Teto API
  description: API para Sistema de Gestión de Condominios
  version: 1.0.0

tags:
  - name: Autenticación
    description: Gestión de autenticación y sesiones
  - name: Condominios
    description: Administración de condominios
  - name: Usuarios
    description: Gestión de usuarios del sistema
  - name: Residentes
    description: Gestión de residentes
  - name: Gastos Comunes
    description: Gestión de gastos comunes
  - name: Multas
    description: Gestión de multas
  - name: Espacios Comunes
    description: Gestión y reserva de espacios comunes
  - name: Pagos
    description: Gestión de pagos
  - name: Anuncios
    description: Gestión de anuncios
  - name: Registros
    description: Libro de registros y auditoria

paths:
  # AUTENTICACIÓN
  /auth/login:
    $ref: './paths/auth.yaml#/login'
  /auth/logout:
    $ref: './paths/auth.yaml#/logout'

  # CONDOMINIOS
  /condominios:
    $ref: './paths/condominios.yaml#/condominios'
  /condominios/{condominioId}:
    $ref: './paths/condominios.yaml#/condominioById'

  # USUARIOS
  /usuarios:
    $ref: './paths/usuarios.yaml#/usuarios'
  /usuarios/{usuarioId}:
    $ref: './paths/usuarios.yaml#/usuarioById'
  /usuarios/{usuarioId}/deshabilitar:
    $ref: './paths/usuarios.yaml#/deshabilitarUsuario'

  # RESIDENTES
  /residentes:
    $ref: './paths/residentes.yaml#/residentes'
  /residentes/{residenteId}:
    $ref: './paths/residentes.yaml#/residenteById'

  # GASTOS COMUNES
  /gastos-comunes:
    $ref: './paths/gastos-comunes.yaml#/gastosComunes'
  /gastos-comunes/{gastoComunId}:
    $ref: './paths/gastos-comunes.yaml#/gastoComunById'
  /gastos-comunes/{gastoComunId}/observaciones:
    $ref: './paths/gastos-comunes.yaml#/observaciones'
  /gastos-comunes/{gastoComunId}/notificar:
    $ref: './paths/gastos-comunes.yaml#/notificar'

  # MULTAS
  /multas:
    $ref: './paths/multas.yaml#/multas'
  /multas/{multaId}:
    $ref: './paths/multas.yaml#/multaById'
  /multas/{multaId}/condonar:
    $ref: './paths/multas.yaml#/condonar'

  # ESPACIOS COMUNES
  /espacios-comunes:
    $ref: './paths/espacios-comunes.yaml#/espaciosComunes'
  /espacios-comunes/{espacioComunId}:
    $ref: './paths/espacios-comunes.yaml#/espacioComunById'

  # RESERVAS
  /reservas:
    $ref: './paths/reservas.yaml#/reservas'
  /reservas/{reservaId}:
    $ref: './paths/reservas.yaml#/reservaById'

  # PAGOS
  /pagos:
    $ref: './paths/pagos.yaml#/pagos'
  /pagos/{pagoId}:
    $ref: './paths/pagos.yaml#/pagoById'
  /pagos/{pagoId}/comprobante:
    $ref: './paths/pagos.yaml#/comprobante'

  # REPORTES
  # /reportes/uso-espacios:
  #   $ref: './paths/reportes.yaml#/usoEspacios'
  # /reportes/gastos-comunes:
  #   $ref: './paths/reportes.yaml#/gastosComunes'
  # /reportes/morosidad:
  #   $ref: './paths/reportes.yaml#/morosidad'
  # /reportes/comportamiento-pago:
  #   $ref: './paths/reportes.yaml#/comportamientoPago'

  # ANUNCIOS
  /anuncios:
    $ref: './paths/anuncios.yaml#/anuncios'
  /anuncios/{anuncioId}:
    $ref: './paths/anuncios.yaml#/anuncioById'

  # REGISTROS 
  /registros:
    $ref: './paths/registros.yaml#/registros'
  /registros/{registroId}:
    $ref: './paths/registros.yaml#/registroById'

components:
  parameters:
    condominioId:
      $ref: './components/parameters/ids.yaml#/condominioId'
    usuarioId:
      $ref: './components/parameters/ids.yaml#/usuarioId'
    residenteId:
      $ref: './components/parameters/ids.yaml#/residenteId'
    gastoComunId:
      $ref: './components/parameters/ids.yaml#/gastoComunId'
    multaId:
      $ref: './components/parameters/ids.yaml#/multaId'
    espacioComunId:
      $ref: './components/parameters/ids.yaml#/espacioComunId'
    reservaId:
      $ref: './components/parameters/ids.yaml#/reservaId'
    pagoId:
      $ref: './components/parameters/ids.yaml#/pagoId'
    anuncioId:
      $ref: './components/parameters/ids.yaml#/anuncioId'
    registroId:
      $ref: './components/parameters/ids.yaml#/registroId'

  responses:
    Unauthorized:
      $ref: './components/responses/errors.yaml#/Unauthorized'
    Forbidden:
      $ref: './components/responses/errors.yaml#/Forbidden'
    NotFound:
      $ref: './components/responses/errors.yaml#/NotFound'
    BadRequest:
      $ref: './components/responses/errors.yaml#/BadRequest'

  schemas:
    # Auth
    AuthResponse:
      $ref: './components/schemas/auth/AuthResponse.yaml'

    # Usuarios
    Usuario:
      $ref: './components/schemas/usuarios/Usuario.yaml'
    UsuarioInput:
      $ref: './components/schemas/usuarios/UsuarioInput.yaml'
    RolUsuario:
      $ref: './components/schemas/usuarios/RolUsuario.yaml'

    # Condominios
    Condominio:
      $ref: './components/schemas/condominios/Condominio.yaml'
    CondominioInput:
      $ref: './components/schemas/condominios/CondominioInput.yaml'

    # Residentes
    Residente:
      $ref: './components/schemas/residentes/Residente.yaml'
    ResidenteInput:
      $ref: './components/schemas/residentes/ResidenteInput.yaml'

    # Gastos Comunes
    GastoComun:
      $ref: './components/schemas/gastos-comunes/GastoComun.yaml'
    GastoComunInput:
      $ref: './components/schemas/gastos-comunes/GastoComunInput.yaml'

    # Multas
    Multa:
      $ref: './components/schemas/multas/Multa.yaml'
    MultaInput:
      $ref: './components/schemas/multas/MultaInput.yaml'

    # Espacios
    EspacioComun:
      $ref: './components/schemas/espacios/EspacioComun.yaml'
    EspacioComunInput:
      $ref: './components/schemas/espacios/EspacioComunInput.yaml'
    Reserva:
      $ref: './components/schemas/espacios/Reserva.yaml'
    ReservaInput:
      $ref: './components/schemas/espacios/ReservasInput.yaml'

    # Pagos
    Pago:
      $ref: './components/schemas/pagos/Pago.yaml'
    PagoInput:
      $ref: './components/schemas/pagos/PagoInput.yaml'

    # Anuncios
    Anuncio:
      $ref: './components/schemas/anuncios/Anuncio.yaml'
    AnuncioInput:
      $ref: './components/schemas/anuncios/AnuncioInput.yaml'

    # Registros
    Registro:
      $ref: './components/schemas/registros/Registro.yaml'
    RegistroInput:
      $ref: './components/schemas/registros/RegistroInput.yaml'
    TipoEvento:
      $ref: './components/schemas/registros/TipoEvento.yaml'

    # Common
    Error:
      $ref: './components/schemas/common/Error.yaml'