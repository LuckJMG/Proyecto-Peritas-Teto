registros:
  get:
    tags:
      - Registros
    summary: Listar registros
    parameters:
      - $ref: '../components/parameters/ids.yaml#/condominioId'
      - in: query
        name: tipoEvento
        schema:
          $ref: '../components/schemas/registros/TipoEvento.yaml'
        description: Filtrar por tipo de evento
      - in: query
        name: usuarioId
        schema:
          type: integer
        description: Filtrar por usuario que realizó la acción
      - in: query
        name: skip
        schema:
          type: integer
          default: 0
        description: Número de registros a saltar
      - in: query
        name: limit
        schema:
          type: integer
          default: 100
        description: Cantidad máxima de registros a retornar
    responses:
      '200':
        description: Lista de registros
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '../components/schemas/registros/Registro.yaml'
      '401':
        $ref: '../components/responses/errors.yaml#/Unauthorized'

  post:
    tags:
      - Registros
    summary: Crear registro
    description: Crear un nuevo registro de auditoría en el sistema
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../components/schemas/registros/RegistroInput.yaml'
    responses:
      '201':
        description: Registro creado exitosamente
        content:
          application/json:
            schema:
              $ref: '../components/schemas/registros/Registro.yaml'
      '400':
        $ref: '../components/responses/errors.yaml#/BadRequest'
      '401':
        $ref: '../components/responses/errors.yaml#/Unauthorized'
      '404':
        description: Usuario no encontrado
        content:
          application/json:
            schema:
              $ref: '../components/schemas/common/Error.yaml'

registroById:
  get:
    tags:
      - Registros
    summary: Obtener registro
    description: Obtener detalles de un registro específico
    parameters:
      - $ref: '../components/parameters/ids.yaml#/registroIdPath'
    responses:
      '200':
        description: Detalles del registro
        content:
          application/json:
            schema:
              $ref: '../components/schemas/registros/Registro.yaml'
      '401':
        $ref: '../components/responses/errors.yaml#/Unauthorized'
      '404':
        $ref: '../components/responses/errors.yaml#/NotFound'

  delete:
    tags:
      - Registros
    summary: Eliminar registro
    description: Eliminar un registro del sistema (solo administradores)
    parameters:
      - $ref: '../components/parameters/ids.yaml#/registroIdPath'
    responses:
      '204':
        description: Registro eliminado exitosamente
      '401':
        $ref: '../components/responses/errors.yaml#/Unauthorized'
      '403':
        $ref: '../components/responses/errors.yaml#/Forbidden'
      '404':
        $ref: '../components/responses/errors.yaml#/NotFound'